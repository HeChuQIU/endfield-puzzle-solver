# REQ-005: 拖拽图片支持 & 移除 JSON 导入

## 状态
- [ ] 待开发
- [ ] 开发中
- [x] 已完成

## 创建信息
- 创建时间: 2026-02-11
- 最后更新: 2026-02-11
- 优先级: 高

## 需求描述
1. **添加拖拽支持**：用户可以直接将截图文件拖入棋盘 Canvas 区域，触发图像识别加载流程（等同于当前"打开截图"按钮的效果）
2. **移除 JSON 导入**：删除 CommandBar 上的"导入 JSON"按钮及所有相关代码（`ImportJsonAsync`、`LoadFromJsonAsync`、`PickJsonAsync`），因为 JSON 导入没有实际用户场景

## 边界条件
- 无特殊情况

## 技术路线
- WinUI 3 中使用 `DragOver` / `Drop` 事件处理拖拽，在 Canvas 或其父容器上设置 `AllowDrop="True"`
- 拖拽处理中过滤文件类型，仅接受 `.png` / `.jpg` / `.jpeg`
- 移除 ViewModel 中的 `ImportJsonAsync`、`LoadFromJsonAsync`、`PickJsonAsync` 相关代码
- 移除 XAML 中的 `ImportJsonBtn`
- 移除 `PuzzleDetector.LoadFromJson` 静态方法（可选，保留也不影响功能）

## 参考
- WinUI 3 拖拽 API：`UIElement.DragOver` / `UIElement.Drop` 事件
- `Windows.ApplicationModel.DataTransfer.DataPackageView`

## 相关文件
- `src/EndfieldPuzzleSolver/MainWindow.xaml` - 移除 ImportJsonBtn，Canvas 父容器添加 AllowDrop/DragOver/Drop，更新占位提示文本
- `src/EndfieldPuzzleSolver/MainWindow.xaml.cs` - 移除 PickJsonAsync 方法和 ImportJsonBtn.Click 事件绑定，新增 BoardDropArea_DragOver / BoardDropArea_Drop 拖拽处理
- `src/EndfieldPuzzleSolver/ViewModels/MainViewModel.cs` - 移除 PickJsonAsync 属性、ImportJsonAsync 命令、LoadFromJsonAsync 方法；LoadFromScreenshotAsync 改为 public 供拖拽调用
