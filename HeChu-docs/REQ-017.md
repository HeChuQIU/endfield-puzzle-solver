# REQ-017: 简化应用流程 - 图片输入自动求解

## 状态
- [ ] 待开发
- [ ] 开发中
- [x] 已完成

## 创建信息
- 创建时间: 2026-02-12
- 最后更新: 2026-02-12
- 优先级: 高

## 需求描述
用户输入图片后，应用程序立即自动执行完整求解流程，无需手动触发任何按钮或操作。同时，移除应用中所有与分步骤显示相关的UI元素（如步骤回放控件、步骤列表、分步按钮等），但保留底层步骤记录算法代码以备调试或未来功能扩展。

## 边界条件
- 需要处理求解失败的情况，给用户明确的错误提示
- 求解过程中需要显示进度提示，让用户了解当前处理状态
- 图片识别失败时也要有友好的错误提示

## 技术路线
1. **修改 UI 流程**
   - 移除步骤回放相关的UI控件（CommandBar中的步骤回放按钮、步骤列表面板等）
   - 在图片拖入后立即触发图像识别和求解流程
   - 添加求解进度显示控件

2. **修改 ViewModel 逻辑**
   - 图片加载完成后自动调用求解器
   - 求解成功后直接显示最终结果
   - 处理求解失败和识别失败的异常情况

3. **保留算法代码**
   - Solver.fs 中的步骤记录功能保持不变
   - StepRecorder 模块保留，但不在UI中暴露

4. **错误处理**
   - 捕获图像识别异常，显示友好提示
   - 捕获求解器异常，显示无解或错误信息
   - 添加进度更新机制

## 参考
无参考

## 相关文件
- `src/EndfieldPuzzleSolver/MainWindow.xaml` - 移除步骤回放按钮（上一步、下一步）、求解按钮和步骤文本显示
- `src/EndfieldPuzzleSolver/ViewModels/MainViewModel.cs` - 修改 LoadFromScreenshotAsync 识别完成后自动调用求解器；修改 GetCurrentBoardSnapshot 直接返回最后一步结果
- `src/EndfieldPuzzleSolver/MainWindow.xaml.cs` - 移除 SolveBtn、PrevStepBtn、NextStepBtn 的 Click 事件绑定；移除步骤相关的 PropertyChanged 处理
- `src/EndfieldPuzzleSolver.Algorithm/Solver.fs` - 保持不变，步骤记录功能保留但不在UI中暴露
